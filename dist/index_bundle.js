!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t,i){e.exports=i.p+"0d0e0de6013b068d76bc5f3abca84175.jpg"},function(e){e.exports={movies:[{id:"tt0111161",title:"The Shawshank Redemption",year:1994,poster:"https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SX300.jpg"},{id:"tt0068646",title:"The Godfather",year:1972,poster:"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg"},{id:"tt0071562",title:"The Godfather: Part II",year:1974,poster:"https://m.media-amazon.com/images/M/MV5BMWMwMGQzZTItY2JlNC00OWZiLWIyMDctNDk2ZDQ2YjRjMWQ0XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg"},{id:"tt0468569",title:"The Dark Knight",year:2008,poster:"https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_SX300.jpg"},{id:"tt0050083",title:"12 Angry Men",year:1957,poster:"https://m.media-amazon.com/images/M/MV5BMWU4N2FjNzYtNTVkNC00NzQ0LTg0MjAtYTJlMjFhNGUxZDFmXkEyXkFqcGdeQXVyNjc1NTYyMjg@._V1_SX300.jpg"},{id:"tt0108052",title:"Schindler's List",year:1993,poster:"https://m.media-amazon.com/images/M/MV5BNDE4OTMxMTctNmRhYy00NWE2LTg3YzItYTk3M2UwOTU5Njg4XkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SX300.jpg"},{id:"tt4154796",title:"Avengers: Endgame",year:2019,poster:"https://m.media-amazon.com/images/M/MV5BMTc5MDE2ODcwNV5BMl5BanBnXkFtZTgwMzI2NzQ2NzM@._V1_SX300.jpg"},{id:"tt0167260",title:"The Lord of the Rings: The Return of the King",year:2003,poster:"https://m.media-amazon.com/images/M/MV5BNzA5ZDNlZWMtM2NhNS00NDJjLTk4NDItYTRmY2EwMWZlMTY3XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg"},{id:"tt0110912",title:"Pulp Fiction",year:1994,poster:"https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzViMjE3YzI5MjljXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg"},{id:"tt0060196",title:"The Good, the Bad and the Ugly",year:1966,poster:"https://m.media-amazon.com/images/M/MV5BOTQ5NDI3MTI4MF5BMl5BanBnXkFtZTgwNDQ4ODE5MDE@._V1_SX300.jpg"}]}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n="ALL",o={TITLE_ASC:"TITLE_ASC",TITLE_DESC:"TITLE_DESC",YEAR_ASC:"YEAR_ASC",YEAR_DESC:"YEAR_DESC"},r=i(1);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=function(){return(e=300,new Promise(function(t){return setTimeout(t,e)})).then(function(){return a(r.movies)});var e},l=i(0),s=i.n(l);var u=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.title=t.title||"Untitled",this.year=t.year||"",this.poster=t.poster||s.a,this.isSelected=t.isSelected||!1};function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f,y,M,v,p,g,h,T,E,S=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.allMovies=t.map(function(e){return new u(e)}),this.DOMEle=i,this.visibilityFilter=n,this.searchString="",this.sortBy=o.TITLE_ASC}var t,i,r;return t=e,(i=[{key:"toggleMovieSelection",value:function(e){var t;if(e)return this.allMovies=this.allMovies.map(function(i){return i.id===e?(t=!i.isSelected,new u(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){d(e,t,i[t])})}return e}({},i,{isSelected:!i.isSelected}))):i}),t}},{key:"getVisibleMovies",value:function(){var e=this;return("SELECTED"===this.visibilityFilter?this.getSelectedMovies():this.allMovies).sort(function(t,i){return e.sortBy===o.TITLE_ASC?t.title<i.title?-1:1:e.sortBy===o.TITLE_DESC?t.title<i.title?1:-1:e.sortBy===o.YEAR_ASC?t.year<i.year?-1:1:e.sortBy===o.YEAR_DESC?t.year<i.year?1:-1:void 0}).filter(function(t){return t.title.toLowerCase().indexOf(e.searchString.toLowerCase())>-1})}},{key:"getSelectedMovies",value:function(){return this.allMovies.filter(function(e){return e.isSelected})}},{key:"loadMoviePosters",value:function(){[].slice.call(document.querySelectorAll("img.lazy")).forEach(function(e){var t=new Image;t.src=e.dataset.src,t.onload=function(){e.src=e.dataset.src,e.classList.remove("lazy")}})}}])&&m(t.prototype,i),r&&m(t,r),e}(),b=function(e){return e[0].toUpperCase().concat(e.slice(1).toLowerCase())};i(2);window.onload=function(){y=document.querySelector(".filters-loader"),f=document.querySelector(".filters-container"),T=document.querySelector(".movie-grid-loader"),h=document.querySelector(".movie-grid-container"),c().then(function(e){E=new S(e),j(),E.loadMoviePosters(),_(y,!1),_(T,!1),_(f,!0),_(h,!0),M=document.querySelector(".library-btn"),v=document.querySelector(".catalog-btn"),p=document.querySelector(".sort-filter"),g=document.querySelector(".search-box"),k(),D()&&"SELECTED"===E.visibilityFilter&&v.click()}).catch(function(e){console.error(e)})};var j=function(){var e="",t=E.getVisibleMovies();t.length?t.forEach(function(t){var i=t.id,n=t.title,o=t.year,r=t.poster,a=t.isSelected;e+='\n        <div class="movie">\n          <div class="movie-media">\n            <img src='.concat(s.a,' class="lazy movie-media-img" alt="').concat(n,' Image" data-src="').concat(r,'" />\n            <div class="movie-overlay">\n              <button class="movie-button btn" data-id="').concat(i,'">\n                ').concat(a?"REMOVE":"ADD",'\n              </button>\n            </div>\n          </div>\n          <div class="movie-info">\n            <p class="movie-title" title="').concat(n,'">').concat(n,'</p>\n            <p class="movie-year">').concat(o,"</p>\n          </div>\n        </div>\n      ")}):e='\n      <p class="info-msg">No Movies Found</p>\n    ',h.innerHTML=e,N()},N=function(){[].slice.call(document.querySelectorAll(".movie")).forEach(function(e){e.addEventListener("click",function(t){if(t.target.classList.contains("movie-button")){var i=t.target.getAttribute("data-id"),o=E.toggleMovieSelection(i);E.visibilityFilter===n?t.target.innerText=o?"REMOVE":"ADD":"SELECTED"===E.visibilityFilter&&h.removeChild(e),D()&&"SELECTED"===E.visibilityFilter&&v.click()}})})},k=function(){var e,t,i;v.addEventListener("click",function(){E.visibilityFilter!==n&&(E.visibilityFilter=n,j(),E.loadMoviePosters())}),M.addEventListener("click",function(){"SELECTED"!==E.visibilityFilter&&(E.visibilityFilter="SELECTED",j(),E.loadMoviePosters())}),w(),p.addEventListener("change",function(e){E.sortBy=e.target.value,j(),E.loadMoviePosters()}),g.addEventListener("keyup",(e=function(e){E.searchString=e.target.value,j(),E.loadMoviePosters()},t=300,function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];i&&clearTimeout(i),i=setTimeout(function(){e.apply(void 0,o),i=void 0},t)}))},w=function(){var e="";Object.keys(o).forEach(function(t){var i,n;e+="\n      <option value=".concat(o[t],">\n        ").concat((i=o[t],n=i.toLowerCase().split("_"),"".concat(b(n[0])," (").concat(b(n[1]),")")),"\n      </option>\n    ")}),p.innerHTML=e},D=function(){return M.disabled=!E.getSelectedMovies().length,M.disabled},_=function(e,t){e.style.display=t?"block":"none"};(new Image).src=s.a}]);